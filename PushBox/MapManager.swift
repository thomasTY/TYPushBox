//
//  MapManager.swift
//  PushBox
//
//  Created by TYOU on 2022/3/7.
// 推箱子游戏-地图管理器

import Foundation
import UIKit

class MapManager: NSObject {
    var count: Int {
        get {
            return maps.count
        }
    }
    var index: Int = 0
    var currentIndex: Int {
        get {
            return index
        }
        set {
            if newValue < count {
                index = newValue
            }
        }
    }
    var maps: [[[String]]] = Array()
    let map0 = [ ["1","1","1","1","1","1","1","1","1","1"],
                ["1","0","1","1"," "," ","1","1"," ","1"],
                ["1"," "," "," "," "," "," "," "," ","1"],
                ["1"," ","1"," "," ","1","1"," ","1"," "],
                ["1"," "," "," ","1"," "," "," ","1"," "],
                ["1","1"," "," ","1"," "," ","1"," ","1"],
                ["1"," ","1"," ","1","1"," "," "," ","1"],
                ["1"," "," "," ","1"," ","X"," "," "," "],
                ["1","1"," "," "," "," ","1"," "," "," "],
                ["1","1","1","1","1","1","1","1","1","E"] ]
    let map1 = [ [" "," "," ","1"," "," "," ","1"," "," "],
                [" ","1"," ","1"," ","1"," ","1","X"," "],
                [" ","1"," ","1"," ","1"," ","1","E"," "],
                [" ","1"," ","1"," ","1"," ","1"," "," "],
                [" ","1"," ","1"," ","1"," ","1"," ","1"],
                [" ","1"," ","1"," ","1"," ","1"," ","1"],
                [" ","1"," ","1"," ","1"," ","1"," ","1"],
                [" ","1"," ","1"," ","1"," ","1"," ","1"],
                [" ","1"," ","1"," ","1"," ","1"," ","1"],
                ["0","1"," "," "," ","1"," "," "," ","1"] ]
    let map2 = [ ["1","0","1","1","1","1","1","1","1","1"],
                [" "," "," "," ","1"," ","1"," "," ","E"],
                ["1"," ","1","1"," "," "," "," ","X"," "],
                ["1"," "," "," "," ","1","1"," ","1"," "],
                [" "," "," ","1","1"," "," "," ","1"," "],
                [" ","1"," "," ","1"," "," ","1"," "," "],
                ["1"," ","1"," ","1","1"," ","1"," ","1"],
                [" "," "," "," ","1"," "," ","1"," "," "],
                ["1","1"," "," "," "," "," "," ","1"," "],
                [" ","1","1","1"," ","1","1"," "," "," "] ]
    
    override init() {
        super.init()
        maps = [map0, map1, map2]
    }
    
    func currentMap () -> [[String]] {
        if currentIndex < count {
            return maps[currentIndex]
        }
        return maps[0]
    }
}
